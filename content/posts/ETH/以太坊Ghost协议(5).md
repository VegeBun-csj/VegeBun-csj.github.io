---
title: "以太坊Ghost协议(5)"
date: 2020-08-24T21:52:57+08:00
tags:
- 区块链
Categories:
- 以太坊
---

在以太坊中，出块的时间相对于BTC来说是非常短暂的，只有十几秒，但是出块时间越短，出现的短暂性分叉也就越多，这就会对部分节点，尤其是个体挖矿节点来说很不公平（因为一般个体节点竞争不过矿池，无法成为最终合法链，矿池会得到很多收益）

所以在以太坊中为了解决这个问题，以太坊采用GHOST协议，给产生分叉得区块引入了一个新的称呼——**叔父区块(uncle block)**,叔区块也可以获得奖励(**uncle reward**)，这样有利于鼓励出现分叉之后及时合并。

![叔区块](/image/ETH/uncleblock.png)

> 但是以上的这种方案还存在一点问题：
>
> - 一个区块只能包含两个叔父区块，其他没被包含的叔父区块就不会获得奖励，它们就不会乐意了
> - 也可能出现有的区块故意不包含一个叔父区块的情况(即两者之间存在恶意竞争关系的时候)

为了解决这两个问题，ETH对GHOST协议进行了改造

![改造的Ghost](/image/ETH/changedghost.png)

- 当前区块认可的叔父区块最多只能和自己隔7代，也就是最多6个叔父区块有效，以太坊中不管和当前区块隔多少代都叫叔父区块，7代以前的叔父就不会再认可了，这就解决了第一个问题
- 第二个问题解决方法是：即使当前区块不接受某个叔父区块，他后面的区块还是有可能接受这个叔父区块，所以恶意地不包含叔父区块变得不可行(通俗讲就是：对于后面的区块而言，这个钱你不赚，我来赚！！！)

> 对于当前区块来说，不管包含的是哪一代的叔父区块，所获得的奖励都是1/32个出块奖励

  

1. 在BTC中，矿工的奖励分为两个部分：block reward(静态奖励)和Tx fee(动态奖励)
2. 在ETH中，矿工的奖励分为两个部分：block reward(静态奖励)和gas fee(动态奖励)，叔父区块奖励是包含在block reward中的。

> ETH中并不像BTC中那样，通过减少出块奖励来实现BTC的稀缺性，并且只有分叉后的第一个叔父区块可以得到奖励，叔父区块后面的区块都不能得到奖励，这是为了防止forking attack,所以这也是鼓励分叉及时进行合并！！！

